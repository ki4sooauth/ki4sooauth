<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gooagoo.authzserver.dao.OpenAppInfoMapper">
	<resultMap id="BaseResultMap"
		type="com.gooagoo.authzserver.entity.business.OpenAppInfoBusiness">
		<id column="app_key" property="appKey" jdbcType="CHAR" />
		<result column="app_name" property="appName" jdbcType="CHAR" />
		<result column="app_type" property="appType" jdbcType="CHAR" />
		<result column="app_label" property="appLabel" jdbcType="CHAR" />
		<result column="app_secret" property="appSecret" jdbcType="CHAR" />
		<result column="volume" property="volume" jdbcType="CHAR" />
		<result column="app_status" property="appStatus" jdbcType="CHAR" />
		<result column="user_id" property="userId" jdbcType="CHAR" />
		<result column="create_dt" property="createDt" jdbcType="TIMESTAMP" />
		<result column="update_dt" property="updateDt" jdbcType="TIMESTAMP" />
	</resultMap>
	<select id="getOpenAppInfo" resultMap="BaseResultMap">
		SELECT
		gooai.app_key AS
		app_key ,
		gooai.app_name AS app_name,
		gooai.app_type AS app_type,
		gooai.app_label AS app_label,
		gooai.app_secret AS app_secret,
		gooai.volume AS volume,
		gooai.app_status AS app_status,
		gooai.user_id AS
		user_id,
		gooai.create_dt AS create_dt,
		gooai.update_dt AS update_dt
		FROM
		gooagoo_open.open_app_info gooai
		where
		1=1
		AND gooai.app_key
		=#{OpenAppInfoBusiness.appKey}
		<if test="OpenAppInfoBusiness.appSecret != null">
		AND
		gooai.app_secret=#{OpenAppInfoBusiness.appSecret}
		</if>
	</select>
</mapper>